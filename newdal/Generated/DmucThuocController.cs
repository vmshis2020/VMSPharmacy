using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for dmuc_thuoc
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class DmucThuocController
    {
        // Preload our schema..
        DmucThuoc thisSchemaLoad = new DmucThuoc();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public DmucThuocCollection FetchAll()
        {
            DmucThuocCollection coll = new DmucThuocCollection();
            Query qry = new Query(DmucThuoc.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public DmucThuocCollection FetchByID(object IdThuoc)
        {
            DmucThuocCollection coll = new DmucThuocCollection().Where("id_thuoc", IdThuoc).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public DmucThuocCollection FetchByQuery(Query qry)
        {
            DmucThuocCollection coll = new DmucThuocCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdThuoc)
        {
            return (DmucThuoc.Delete(IdThuoc) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdThuoc)
        {
            return (DmucThuoc.Destroy(IdThuoc) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaQD40,string MaQDTinh,string MaThuoc,short IdLoaithuoc,byte TinhChat,string TenThuoc,string TenBhyt,decimal DonGia,string MaDonvitinh,string MotaThem,string HoatChat,string HamLuong,string HangSanxuat,string SoDangky,string NuocSanxuat,byte TrangThai,string DangBaoche,short? GioihanKedon,int? DonviBut,string KieuThuocvattu,string QD31,string NoitruNgoaitru,byte? TuTuc,decimal? GiaBhyt,decimal? PhuthuDungtuyen,decimal? PhuthuTraituyen,byte? CoChiathuoc,int? SluongChia,decimal? DongiaChia,string MaDvichia,string KieuBiendong,string CachSudung,byte? SingleService,int? SluongVuottran,string NguoiTao,DateTime? NgayTao,DateTime? NgaySua,string NguoiSua,string LastActionName,decimal? GiaDv)
	    {
		    DmucThuoc item = new DmucThuoc();
		    
            item.MaQD40 = MaQD40;
            
            item.MaQDTinh = MaQDTinh;
            
            item.MaThuoc = MaThuoc;
            
            item.IdLoaithuoc = IdLoaithuoc;
            
            item.TinhChat = TinhChat;
            
            item.TenThuoc = TenThuoc;
            
            item.TenBhyt = TenBhyt;
            
            item.DonGia = DonGia;
            
            item.MaDonvitinh = MaDonvitinh;
            
            item.MotaThem = MotaThem;
            
            item.HoatChat = HoatChat;
            
            item.HamLuong = HamLuong;
            
            item.HangSanxuat = HangSanxuat;
            
            item.SoDangky = SoDangky;
            
            item.NuocSanxuat = NuocSanxuat;
            
            item.TrangThai = TrangThai;
            
            item.DangBaoche = DangBaoche;
            
            item.GioihanKedon = GioihanKedon;
            
            item.DonviBut = DonviBut;
            
            item.KieuThuocvattu = KieuThuocvattu;
            
            item.QD31 = QD31;
            
            item.NoitruNgoaitru = NoitruNgoaitru;
            
            item.TuTuc = TuTuc;
            
            item.GiaBhyt = GiaBhyt;
            
            item.PhuthuDungtuyen = PhuthuDungtuyen;
            
            item.PhuthuTraituyen = PhuthuTraituyen;
            
            item.CoChiathuoc = CoChiathuoc;
            
            item.SluongChia = SluongChia;
            
            item.DongiaChia = DongiaChia;
            
            item.MaDvichia = MaDvichia;
            
            item.KieuBiendong = KieuBiendong;
            
            item.CachSudung = CachSudung;
            
            item.SingleService = SingleService;
            
            item.SluongVuottran = SluongVuottran;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
            item.LastActionName = LastActionName;
            
            item.GiaDv = GiaDv;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(int IdThuoc,string MaQD40,string MaQDTinh,string MaThuoc,short IdLoaithuoc,byte TinhChat,string TenThuoc,string TenBhyt,decimal DonGia,string MaDonvitinh,string MotaThem,string HoatChat,string HamLuong,string HangSanxuat,string SoDangky,string NuocSanxuat,byte TrangThai,string DangBaoche,short? GioihanKedon,int? DonviBut,string KieuThuocvattu,string QD31,string NoitruNgoaitru,byte? TuTuc,decimal? GiaBhyt,decimal? PhuthuDungtuyen,decimal? PhuthuTraituyen,byte? CoChiathuoc,int? SluongChia,decimal? DongiaChia,string MaDvichia,string KieuBiendong,string CachSudung,byte? SingleService,int? SluongVuottran,string NguoiTao,DateTime? NgayTao,DateTime? NgaySua,string NguoiSua,string LastActionName,decimal? GiaDv)
	    {
		    DmucThuoc item = new DmucThuoc();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdThuoc = IdThuoc;
				
			item.MaQD40 = MaQD40;
				
			item.MaQDTinh = MaQDTinh;
				
			item.MaThuoc = MaThuoc;
				
			item.IdLoaithuoc = IdLoaithuoc;
				
			item.TinhChat = TinhChat;
				
			item.TenThuoc = TenThuoc;
				
			item.TenBhyt = TenBhyt;
				
			item.DonGia = DonGia;
				
			item.MaDonvitinh = MaDonvitinh;
				
			item.MotaThem = MotaThem;
				
			item.HoatChat = HoatChat;
				
			item.HamLuong = HamLuong;
				
			item.HangSanxuat = HangSanxuat;
				
			item.SoDangky = SoDangky;
				
			item.NuocSanxuat = NuocSanxuat;
				
			item.TrangThai = TrangThai;
				
			item.DangBaoche = DangBaoche;
				
			item.GioihanKedon = GioihanKedon;
				
			item.DonviBut = DonviBut;
				
			item.KieuThuocvattu = KieuThuocvattu;
				
			item.QD31 = QD31;
				
			item.NoitruNgoaitru = NoitruNgoaitru;
				
			item.TuTuc = TuTuc;
				
			item.GiaBhyt = GiaBhyt;
				
			item.PhuthuDungtuyen = PhuthuDungtuyen;
				
			item.PhuthuTraituyen = PhuthuTraituyen;
				
			item.CoChiathuoc = CoChiathuoc;
				
			item.SluongChia = SluongChia;
				
			item.DongiaChia = DongiaChia;
				
			item.MaDvichia = MaDvichia;
				
			item.KieuBiendong = KieuBiendong;
				
			item.CachSudung = CachSudung;
				
			item.SingleService = SingleService;
				
			item.SluongVuottran = SluongVuottran;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
			item.LastActionName = LastActionName;
				
			item.GiaDv = GiaDv;
				
	        item.Save(UserName);
	    }
    }
}
